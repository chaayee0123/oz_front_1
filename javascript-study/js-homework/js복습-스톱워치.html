<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스톱워치</title>
</head>
<body>
    <div class="main">
        <h1>⏰스톱워치⏰</h1>
        <form id="forms" name="output">
            <div>
                <span id="testmin">00</span>
                <span>:</span>
                <span id="testsec">00</span>
                <span>,</span>
                <span id="testmilli">00</span>
            </div>
            <button id="start" onclick="timestart()">시작</button>
            <button id="stop">중지</button>
        </form>
    </div>

    <script>
        const start = document.getElementById("start")
        const stop = document.getElementById("stop")

        let timestart;
        timestart = setInterval(function(){
            let stTime = 0;
            const testmin = document.getElementById("testmin")
            const testsec = document.getElementById("testsec")
            const testmilli = document.getElementById("testmilli")

            if(!stTime){
                stTime = Date.now()
            } else {
                 stTime += (Date.now()-endTime)
            }
            const now = new Date(Date.now()-stTime)

            let min = now.getMinutes()
            let sec = now.getSeconds()
            let milisec = now.getMilliseconds()

            testmin.innerHTML = min
            testsec.innerHTML = sec
            testmilli.innerHTML = milisec
        },1)
        
        stop.addEventListener("click", function(){
            clearInterval(timestart)
        })

        // var stTime = 0
        // var endTime = 0
        // var timeStart 
        // var min
        // var sec
        // var milisec

        
        // start.addEventListener("click", function(){
            
        //     if(!stTime){
        //         stTime = Date.now()
        //     } else {
        //         stTime += (Date.now()-endTime)
        //     }

        //     timeStart = setInterval(function(){
        //         var now = new Date(Date.now()-stTime)

        //         min = addZero(nowTime.getMinutes())
        //         sec = addZero(nowTime.getSeconds())
        //         milisec = addZero(Math.floor(nowTime.getMilliseconds()/10))

        //         document.getElementById("testmin").innerHTML = min
        //         document.getElementById("testsec").innerHTML = sec
        //         document.getElementById("testmilli").innerHTML = milisec
        //     }, 1)
        // })

        // function addZero(num){
        //     return (num < 10 ? '0'+num : '+num')
        // }
        

        // let hours = 0;
        // let min = 0;
        // let sec = 0;
        // let count = 0;

        // let interval;

        // function timeLayout(){
        //     if(s>60){
        //         sec=0;
        //         min++;
        //     } else if(m>60){
        //         min=0;
        //         hours++;
        //     } 
        // }

        // function startBtn(){
        //     interval = setInterval(() => {
        //         sec++;
        //         timeLayout(hours, min, sec);

        //         output.textContent = `${String(hours).padStart(2,"0")}:${String(min).padStart(2,"0")}:${String(sec).padStart(2,"0")}`;
        //     }, 1000);
        // }
        // function stopBtn(){
        //     clearInterval(interval);
        // }

        // start.addEventListener("click", startBtn)
        // stop.addEventListener("click", stopBtn)

//         var s=0; m=0; h=0;
//         var m_count=0;
//         var h_count=0;
//         var timer;

//         function Timer(){
//             s++;

//             if(s>=60){
//                 s=0;
//                 m_count=0;
//                 m++;
//             }

//             if(m>=60){
//                 m=0;
//                 h_count=0;
//                 h++;
//             }

//             if(s<10){
                
//             }
//         }
// //         let timerID;
//         let time = 0;
//         let hour, min, sec;
//         const stopwatch = document.querySelector("stopwatch");
//         const startBtn = document.querySelector("#start");
//         const stopBtn = document.querySelector("#stop");

//         function printTime (){
//             time++;
//             stopwatch.textContent = getTimeFormatString();
            
//   }

//         function startclock(){
//             printTime();
//             stopclock();
//             timerID = setTimeout(startclock ,1000);
//         }
//         function stopclock(){
//             if (timerID != null) {
//                 clearTimeout(timerID);
//             }
//         }

//         function getTimeFormatString(){
//             hour = parseInt(String(time / (60*60)));
//             min = parseInt(String(time - (hour*60*60)) / 60);
//             sec = time % 60;

//             return String(hour).padStart(2,'0')+":"+String(min).padStart(2,'0')+":"+String(sec).padStart(2,'0');
//         }

    </script>
</body>
</html>